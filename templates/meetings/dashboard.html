{% extends 'base.html' %}

{% block title %}Moje spotkania - Kiedy/gdzie spotkanie?{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 py-8">
    <div class="flex items-center justify-between mb-8">
        <div>
            <h1 class="text-xl font-semibold text-gray-800">Moje spotkania</h1>
            <p class="text-gray-500">{% if meetings %}Masz {{ meetings|length }} spotkań{% else %}Nie masz jeszcze żadnych spotkań{% endif %}</p>
        </div>
        <a href="{% url 'create_meeting' %}" class="inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
            </svg>
            Nowe spotkanie
        </a>
    </div>
    
    {% if meetings %}
    <div class="space-y-4">
        {% for meeting in meetings %}
        <div class="bg-white rounded-xl border border-gray-100 p-6 hover:shadow-md transition-shadow">
            <div class="flex items-center justify-between">
                <div>
                    <h3 class="font-semibold text-gray-800">{{ meeting.name }}</h3>
                    <p class="text-gray-500 text-sm mt-1">{{ meeting.get_total_votes }} uczestników zagłosowało</p>
                </div>
                <div class="flex gap-2">
                    <a href="{% url 'meeting_vote' meeting.id %}" class="px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium">
                        Głosuj
                    </a>
                    <a href="{% url 'meeting_results' meeting.id %}" class="px-4 py-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors text-sm font-medium">
                        Wyniki
                    </a>
                    <form method="post" action="{% url 'delete_meeting' meeting.id %}" onsubmit="return confirm('Czy na pewno chcesz usunąć to spotkanie?');" class="inline">
                        {% csrf_token %}
                        <button type="submit" class="px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium">
                            Usuń
                        </button>
                    </form>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="bg-white rounded-xl border border-gray-100 p-12 text-center">
        <div class="w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
            </svg>
        </div>
        <h3 class="font-semibold text-gray-800 mb-2">Brak spotkań</h3>
        <p class="text-gray-500">Rozpocznij organizację swojego pierwszego spotkania,<br>klikając przycisk powyżej</p>
    </div>
    {% endif %}
</div>
{% endblock %}
